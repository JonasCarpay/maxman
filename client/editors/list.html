<template name="editorsList">
    <h2>
        <a data-toggle="collapse" data-target="#nef" type="button" class="btn btn-success"><span class="glyphicon glyphicon-plus"></span></a>
        Editors
    </h2>

    <div id="nef" class="collapse">
        <p>
            {{> editorNew}}
        </p>
    </div>

    <div class="editors">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>E-mail</th>
                    <th>Comments</th>
                    <th>Articles</th>
                </tr>
            </thead>
            <tbody>
                {{#each editors}}
                    {{> editorItem}}
                {{/each}}
            </tbody>
        </table>
    </div>
</template>

<template name="editorItem">
    <tr class="{{#if profile.active}} {{else}} text-muted {{/if}}">
        <td >
            {{profile.name}}
        </td>
        <td>
            {{profile.email}}
        </td>
        <td>
            <small>{{formatComments}}</small>
        </td>
        <td>
            <small>{{editorArticleCount}}</small>
        </td>
    </tr>
</template>

<template name="editorNew">
    {{#autoForm schema=newEditorSchema id="newEditorForm" type="method" meteormethod="createEditor"}}
        <legend>New Editor</legend>
        <fieldset>
            {{> afQuickField name='username' template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}
            {{> afQuickField name='name' template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}
            {{> afQuickField name='email' template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}
            {{> afQuickField name='active' template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}
            {{> afQuickField name='comments' rows=6 template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}
        </fieldset>
        <button type="submit" class='btn btn-primary'><span class="glyphicon glyphicon-plus"></span> Add</button>
    {{/autoForm}}
</template>
